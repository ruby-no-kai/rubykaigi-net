{
   "apiVersion": "v1",
   "data": {
      "kea-dhcp4.json": "{\n  \"Dhcp4\": {\n    \"allocator\": \"random\",\n    \"client-classes\": [\n      {\n        \"name\": \"pxe_ipxe\",\n        \"only-if-required\": true,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.136.67\",\n            \"name\": \"tftp-server-name\"\n          },\n          {\n            \"data\": \"https://tftp.rubykaigi.net/ro/compute/default.ipxe\",\n            \"name\": \"boot-file-name\"\n          },\n          {\n            \"data\": \"10.33.136.14\",\n            \"name\": \"log-servers\"\n          }\n        ],\n        \"test\": \"option[175].exists\"\n      },\n      {\n        \"name\": \"pxe_uefi\",\n        \"only-if-required\": true,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.136.67\",\n            \"name\": \"tftp-server-name\"\n          },\n          {\n            \"data\": \"ro/compute/ipxe.efi\",\n            \"name\": \"boot-file-name\"\n          }\n        ],\n        \"test\": \"option[93].hex == 0x0007 and not option[175].exists\"\n      },\n      {\n        \"name\": \"main_ssid\",\n        \"only-if-required\": true,\n        \"option-data\": [\n          {\n            \"data\": \"1800\",\n            \"name\": \"v6-only-preferred\"\n          }\n        ],\n        \"test\": \"split(relay4[2].hex, ':', 2) == 'RubyKaigi 2025'\"\n      }\n    ],\n    \"control-socket\": {\n      \"socket-name\": \"/run/kea/dhcp4.sock\",\n      \"socket-type\": \"unix\"\n    },\n    \"expired-leases-processing\": {\n      \"flush-reclaimed-timer-wait-time\": 25,\n      \"hold-reclaimed-time\": 54000,\n      \"max-reclaim-leases\": 100,\n      \"max-reclaim-time\": 250,\n      \"reclaim-timer-wait-time\": 10,\n      \"unwarned-reclaim-cycles\": 5\n    },\n    \"hooks-libraries\": [\n      {\n        \"library\": \"/app/kea-hooks/libdhcp_mysql.so\"\n      }\n    ],\n    \"interfaces-config\": {\n      \"dhcp-socket-type\": \"udp\",\n      \"interfaces\": [\n        \"*\"\n      ]\n    },\n    \"lease-database\": {\n      \"connect-timeout\": 10,\n      \"host\": \"__LEASE_DATABASE_HOST__\",\n      \"max-reconnect-tries\": 5,\n      \"name\": \"__LEASE_DATABASE_NAME__\",\n      \"password\": \"__LEASE_DATABASE_PASSWORD__\",\n      \"reconnect-wait-time\": 2000,\n      \"type\": \"mysql\",\n      \"user\": \"__LEASE_DATABASE_USER__\"\n    },\n    \"loggers\": [\n      {\n        \"name\": \"kea-dhcp4\",\n        \"output_options\": [\n          {\n            \"output\": \"stdout\"\n          }\n        ],\n        \"severity\": \"INFO\"\n      },\n      {\n        \"name\": \"kea-dhcp4.alloc-engine\",\n        \"output_options\": [\n          {\n            \"output\": \"stdout\"\n          }\n        ],\n        \"severity\": \"INFO\"\n      },\n      {\n        \"name\": \"kea-dhcp4.database\",\n        \"output_options\": [\n          {\n            \"output\": \"stdout\"\n          }\n        ],\n        \"severity\": \"INFO\"\n      },\n      {\n        \"name\": \"kea-dhcp4.hosts\",\n        \"output_options\": [\n          {\n            \"output\": \"stdout\"\n          }\n        ],\n        \"severity\": \"INFO\"\n      },\n      {\n        \"name\": \"kea-dhcp4.leases\",\n        \"output_options\": [\n          {\n            \"output\": \"stdout\"\n          }\n        ],\n        \"severity\": \"INFO\"\n      },\n      {\n        \"name\": \"kea-dhcp4.commands\",\n        \"output_options\": [\n          {\n            \"output\": \"stdout\"\n          }\n        ],\n        \"severity\": \"WARN\"\n      }\n    ],\n    \"max-valid-lifetime\": 3600,\n    \"option-data\": [\n      {\n        \"data\": \"10.33.136.53, 10.33.152.53\",\n        \"name\": \"domain-name-servers\"\n      },\n      {\n        \"data\": \"216.239.35.0, 216.239.35.4, 216.239.35.8, 216.239.35.12\",\n        \"name\": \"ntp-servers\"\n      },\n      {\n        \"data\": \"on.rubykaigi.net\",\n        \"name\": \"domain-search\"\n      },\n      {\n        \"data\": \"__SERVER_ID__\",\n        \"name\": \"dhcp-server-identifier\"\n      }\n    ],\n    \"subnet4\": [\n      {\n        \"id\": 102,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.2.254\",\n            \"name\": \"routers\"\n          },\n          {\n            \"data\": \"192.50.220.164, 192.50.220.165\",\n            \"name\": \"domain-name-servers\"\n          },\n          {\n            \"data\": \"air.venue.rubykaigi.net\",\n            \"name\": \"domain-name\"\n          },\n          {\n            \"data\": \"air.venue.rubykaigi.net\",\n            \"name\": \"domain-search\"\n          }\n        ],\n        \"pools\": [\n          {\n            \"pool\": \"10.33.2.150 - 10.33.2.250\"\n          }\n        ],\n        \"subnet\": \"10.33.2.0/24\"\n      },\n      {\n        \"id\": 101,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.1.254\",\n            \"name\": \"routers\"\n          },\n          {\n            \"data\": \"192.50.220.164, 192.50.220.165\",\n            \"name\": \"domain-name-servers\"\n          },\n          {\n            \"data\": \"life.venue.rubykaigi.net\",\n            \"name\": \"domain-name\"\n          },\n          {\n            \"data\": \"life.venue.rubykaigi.net, venue.rubykaigi.net, on.rubykaigi.net\",\n            \"name\": \"domain-search\"\n          }\n        ],\n        \"pools\": [\n          {\n            \"pool\": \"10.33.1.100 - 10.33.1.250\"\n          }\n        ],\n        \"reservations\": [\n          {\n            \"hostname\": \"printer\",\n            \"hw-address\": \"58:38:79:67:d1:29\",\n            \"ip-address\": \"10.33.1.10\"\n          }\n        ],\n        \"subnet\": \"10.33.1.0/24\"\n      },\n      {\n        \"id\": 400,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.79.254\",\n            \"name\": \"routers\"\n          },\n          {\n            \"data\": \"usr.venue.rubykaigi.net\",\n            \"name\": \"domain-name\"\n          },\n          {\n            \"data\": \"on.rubykaigi.net, usr.venue.rubykaigi.net, venue.rubykaigi.net\",\n            \"name\": \"domain-search\"\n          },\n          {\n            \"data\": \"192.50.220.164, 192.50.220.165\",\n            \"name\": \"domain-name-servers\"\n          }\n        ],\n        \"pools\": [\n          {\n            \"option-data\": [\n\n            ],\n            \"pool\": \"10.33.65.0 - 10.33.71.255\"\n          },\n          {\n            \"option-data\": [\n              {\n                \"data\": \"192.50.220.165, 192.50.220.164\",\n                \"name\": \"domain-name-servers\"\n              }\n            ],\n            \"pool\": \"10.33.72.0 - 10.33.79.250\"\n          }\n        ],\n        \"require-client-classes\": [\n          \"main_ssid\"\n        ],\n        \"subnet\": \"10.33.64.0/20\"\n      },\n      {\n        \"id\": 410,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.21.254\",\n            \"name\": \"routers\"\n          },\n          {\n            \"data\": \"192.50.220.164, 192.50.220.165\",\n            \"name\": \"domain-name-servers\"\n          },\n          {\n            \"data\": \"cast.venue.rubykaigi.net\",\n            \"name\": \"domain-name\"\n          },\n          {\n            \"data\": \"cast.venue.rubykaigi.net, venue.rubykaigi.net, on.rubykaigi.net\",\n            \"name\": \"domain-search\"\n          }\n        ],\n        \"pools\": [\n          {\n            \"pool\": \"10.33.21.100 - 10.33.21.250\"\n          }\n        ],\n        \"subnet\": \"10.33.21.0/24\"\n      },\n      {\n        \"id\": 1000,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.100.254\",\n            \"name\": \"routers\"\n          },\n          {\n            \"data\": \"192.50.220.164, 192.50.220.165\",\n            \"name\": \"domain-name-servers\"\n          },\n          {\n            \"data\": \"mgmt.venue.rubykaigi.net\",\n            \"name\": \"domain-name\"\n          },\n          {\n            \"data\": \"f.rubykaigi.net, mgmt.venue.rubykaigi.net, venue.rubykaigi.net, on.rubykaigi.net\",\n            \"name\": \"domain-search\"\n          }\n        ],\n        \"pools\": [\n          {\n            \"pool\": \"10.33.100.200 - 10.33.100.250\"\n          }\n        ],\n        \"require-client-classes\": [\n          \"pxe_ipxe\",\n          \"pxe_uefi\"\n        ],\n        \"reservations\": [\n          {\n            \"duid\": \"00:02:00:00:ba:2c:33:00:75\",\n            \"hostname\": \"show-01-venue\",\n            \"ip-address\": \"10.33.100.50\"\n          },\n          {\n            \"duid\": \"00:02:00:00:ba:2c:33:00:23\",\n            \"hostname\": \"nat-61-venue\",\n            \"ip-address\": \"10.33.100.61\"\n          },\n          {\n            \"duid\": \"00:02:00:00:ba:2c:33:00:24\",\n            \"hostname\": \"nat-62-venue\",\n            \"ip-address\": \"10.33.100.62\"\n          }\n        ],\n        \"subnet\": \"10.33.100.0/24\"\n      },\n      {\n        \"id\": 931,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.31.254\",\n            \"name\": \"routers\"\n          },\n          {\n            \"data\": \"test.tkyk.rubykaigi.net\",\n            \"name\": \"domain-name\"\n          },\n          {\n            \"data\": \"test.tkyk.rubykaigi.net, venue.rubykaigi.net, on.rubykaigi.net\",\n            \"name\": \"domain-search\"\n          },\n          {\n            \"data\": \"192.50.220.164, 192.50.220.165\",\n            \"name\": \"domain-name-servers\"\n          },\n          {\n            \"data\": \"1, resolver.rubykaigi.net., 192.50.220.164 192.50.220.165, alpn=h3\\\\,h2 dohpath=/dns-query{?dns} | 2, resolver.rubykaigi.net., 192.50.220.164 192.50.220.165, alpn=dot\",\n            \"name\": \"v4-dnr\"\n          },\n          {\n            \"data\": \"1800\",\n            \"name\": \"v6-only-preferred\"\n          }\n        ],\n        \"pools\": [\n          {\n            \"option-data\": [\n\n            ],\n            \"pool\": \"10.33.31.96 - 10.33.31.127\"\n          },\n          {\n            \"option-data\": [\n              {\n                \"data\": \"192.50.220.165, 192.50.220.164\",\n                \"name\": \"domain-name-servers\"\n              },\n              {\n                \"data\": \"1, resolver.rubykaigi.net., 192.50.220.165 192.50.220.164, alpn=h3\\\\,h2 dohpath=/dns-query{?dns} | 2, resolver.rubykaigi.net., 192.50.220.165 192.50.220.164, alpn=dot\",\n                \"name\": \"v4-dnr\"\n              }\n            ],\n            \"pool\": \"10.33.31.128 - 10.33.31.160\"\n          }\n        ],\n        \"subnet\": \"10.33.31.0/24\"\n      },\n      {\n        \"id\": 930,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.30.254\",\n            \"name\": \"routers\"\n          },\n          {\n            \"data\": \"mgmt.tkyk.rubykaigi.net\",\n            \"name\": \"domain-name\"\n          },\n          {\n            \"data\": \"mgmt.tkyk.rubykaigi.net, venue.rubykaigi.net, on.rubykaigi.net\",\n            \"name\": \"domain-search\"\n          }\n        ],\n        \"pools\": [\n          {\n            \"option-data\": [\n              {\n                \"data\": \"192.50.220.164, 192.50.220.165\",\n                \"name\": \"domain-name-servers\"\n              }\n            ],\n            \"pool\": \"10.33.30.96 - 10.33.30.127\"\n          },\n          {\n            \"option-data\": [\n              {\n                \"data\": \"192.50.220.165, 192.50.220.164\",\n                \"name\": \"domain-name-servers\"\n              }\n            ],\n            \"pool\": \"10.33.30.128 - 10.33.30.160\"\n          }\n        ],\n        \"subnet\": \"10.33.30.0/24\"\n      },\n      {\n        \"id\": 932,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.32.254\",\n            \"name\": \"routers\"\n          },\n          {\n            \"data\": \"air.tkyk.rubykaigi.net\",\n            \"name\": \"domain-name\"\n          },\n          {\n            \"data\": \"air.tkyk.rubykaigi.net, venue.rubykaigi.net, on.rubykaigi.net\",\n            \"name\": \"domain-search\"\n          }\n        ],\n        \"pools\": [\n          {\n            \"option-data\": [\n              {\n                \"data\": \"192.50.220.164, 192.50.220.165\",\n                \"name\": \"domain-name-servers\"\n              }\n            ],\n            \"pool\": \"10.33.32.128 - 10.33.32.160\"\n          }\n        ],\n        \"subnet\": \"10.33.32.0/24\"\n      },\n      {\n        \"id\": 933,\n        \"option-data\": [\n          {\n            \"data\": \"10.33.33.254\",\n            \"name\": \"routers\"\n          },\n          {\n            \"data\": \"192.50.220.164, 192.50.220.165\",\n            \"name\": \"domain-name-servers\"\n          },\n          {\n            \"data\": \"test.hot.rubykaigi.net\",\n            \"name\": \"domain-name\"\n          },\n          {\n            \"data\": \"test.hot.rubykaigi.net, venue.rubykaigi.net, on.rubykaigi.net\",\n            \"name\": \"domain-search\"\n          }\n        ],\n        \"pools\": [\n          {\n            \"pool\": \"10.33.33.100 - 10.33.33.250\"\n          }\n        ],\n        \"subnet\": \"10.33.33.0/24\"\n      }\n    ],\n    \"valid-lifetime\": 1200\n  }\n}"
   },
   "kind": "ConfigMap",
   "metadata": {
      "name": "kea-config",
      "namespace": "default"
   }
}
